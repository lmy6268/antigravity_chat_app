# 커밋 메시지 작성 가이드

이 문서는 AI 어시스턴트가 일관된 형식의 한글 커밋 메시지를 작성하도록 돕는 프롬프트입니다.

## 기본 원칙

모든 커밋 메시지는 **한글**로 작성하며, 다음 형식을 따릅니다:

```
<타입>: <제목>

<본문>
```

## 타입 (Type)

반드시 다음 중 하나를 사용:

| 타입       | 설명             | 사용 예시                               |
| ---------- | ---------------- | --------------------------------------- |
| `feature`  | 새로운 기능 추가 | 로그인 기능, 채팅 기능 등               |
| `fix`      | 버그 수정        | 오류 해결, 예외 처리 등                 |
| `refactor` | 코드 리팩토링    | 구조 개선, 성능 최적화 (기능 변경 없음) |
| `style`    | 코드 스타일 변경 | 포맷팅, 세미콜론, 공백 등               |
| `docs`     | 문서 수정        | README, 주석, API 문서 등               |
| `test`     | 테스트 코드      | 테스트 추가, 수정, 삭제                 |
| `chore`    | 기타 변경사항    | 빌드 설정, 패키지 업데이트 등           |
| `perf`     | 성능 개선        | 최적화, 속도 향상 등                    |
| `security` | 보안 관련        | 취약점 수정, 보안 강화 등               |

## 제목 작성 규칙

1. **50자 이내**로 간결하게 작성
2. 마침표(`.`)를 붙이지 않음
3. **명령형**으로 작성
   - ✅ "사용자 인증 기능 추가"
   - ❌ "사용자 인증 기능을 추가했습니다"
   - ❌ "사용자 인증 기능 추가함"
4. 핵심 내용을 명확하게 표현

## 본문 작성 규칙

1. 제목과 본문 사이 **한 줄 비우기**
2. 각 항목은 `-`로 시작 (불릿 포인트)
3. **무엇을, 왜** 변경했는지 설명
4. 관련된 변경사항은 그룹화
5. 기술 용어는 영어 그대로 사용 (예: E2EE, API, DTO)
6. 파일명, 함수명, 컴포넌트명은 백틱(`)으로 감싸기

## 커밋 메시지 템플릿

### Feature (기능 추가)

```
feature: <핵심 기능 요약>

- <주요 기능 1> 구현
- <주요 기능 2> 추가
- <관련 컴포넌트/훅> 생성 (파일명)
- <API/데이터베이스> 변경사항
- <기타 개선사항>
```

### Fix (버그 수정)

```
fix: <수정한 문제 요약>

- <문제 상황> 해결
- <원인> 수정
- <예외 처리/검증> 추가
- <관련 테스트> 업데이트
```

### Refactor (리팩토링)

```
refactor: <리팩토링 대상 요약>

- <컴포넌트/모듈> 분리
- <로직> 추출 및 재사용성 향상
- <코드 구조> 개선
- <성능/가독성> 향상
```

## 실제 예시

### 예시 1: 복합 기능 추가

```
feature: 종단간 암호화(E2EE) 개선 및 방 초대 기능 추가

- 방 생성자 자동 입장 기능 구현 (비밀번호 입력 불필요)
- 참여자별 암호화 키 관리 시스템 추가
- 방 초대 컴포넌트 및 훅 구현 (`ChatRoomInvite`, `useRoomInvite`)
- 사용자 검색 API 개선 (부분 일치 검색 지원)
- 다국어 지원 확장 (한국어/영어)
- 암호화 유틸리티 함수 개선 (키 래핑/언래핑)
- 데이터베이스 스키마 업데이트 (`encrypted_key` 컬럼 추가)
- 타입 정의 개선 및 DTO 구조 최적화
```

### 예시 2: 버그 수정

```
fix: Socket.io 연결 시 타입 오류 수정

- `CustomSocket` 타입에 `id` 속성 추가
- 클라이언트 연결 해제 로깅 오류 해결
- Socket.io 타입 정의 개선
```

### 예시 3: 리팩토링

```
refactor: 대시보드 컴포넌트 분리 및 구조 개선

- 탭 네비게이션을 `DashboardTabs` 컴포넌트로 분리
- 친구 관리 로직을 `useFriends` 훅으로 추출
- QR 코드 표시를 `QRCodeDisplay` 컴포넌트로 분리
- 메인 페이지 코드 라인 수 50% 감소
- 코드 가독성 및 유지보수성 향상
```

### 예시 4: 문서 업데이트

```
docs: README에 E2EE 아키텍처 설명 추가

- 종단간 암호화 동작 원리 다이어그램 추가
- 키 관리 방식 설명
- 보안 고려사항 문서화
```

## AI 어시스턴트를 위한 지침

커밋 메시지를 작성할 때:

1. **변경사항 분석**: `git status` 및 `git diff`로 변경된 파일 확인
2. **타입 선택**: 변경사항의 주요 목적에 맞는 타입 선택
3. **제목 작성**: 가장 중요한 변경사항을 50자 이내로 요약
4. **본문 작성**:
   - 변경된 파일들을 기능별로 그룹화
   - 각 그룹의 변경사항을 불릿 포인트로 나열
   - 기술적 세부사항 포함 (컴포넌트명, 함수명 등)
5. **일관성 유지**: 항상 동일한 형식과 톤 유지

## 주의사항

- 하나의 커밋에는 **하나의 논리적 변경사항**만 포함
- 너무 많은 파일이 변경되었다면 커밋을 분리할 것을 제안
- 중요한 Breaking Change가 있다면 본문에 명시
- 이슈 번호가 있다면 본문 마지막에 추가 (예: `Closes #123`)
