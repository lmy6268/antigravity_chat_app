# PR 작성 가이드

이 문서는 Pull Request(PR)를 작성할 때 따라야 할 컨벤션을 정의합니다.

## PR 제목 형식

PR 제목은 다음 형식을 **반드시** 따라야 합니다:

```
[타입] 제목
```

### 타입 (Type)

| 타입       | 설명             | 사용 예시                               |
| ---------- | ---------------- | --------------------------------------- |
| `Feature`  | 새로운 기능 추가 | 로그인 기능, 채팅 기능 등               |
| `Fix`      | 버그 수정        | 오류 해결, 예외 처리 등                 |
| `Refactor` | 코드 리팩토링    | 구조 개선, 성능 최적화 (기능 변경 없음) |
| `Style`    | 코드 스타일 변경 | 포맷팅, 세미콜론, 공백 등               |
| `Docs`     | 문서 수정        | README, 주석, API 문서 등               |
| `Test`     | 테스트 코드      | 테스트 추가, 수정, 삭제                 |
| `Chore`    | 기타 변경사항    | 빌드 설정, 패키지 업데이트 등           |
| `Perf`     | 성능 개선        | 최적화, 속도 향상 등                    |
| `Security` | 보안 관련        | 취약점 수정, 보안 강화 등               |

### 제목 작성 규칙

1. **50자 이내**로 간결하게 작성
2. 마침표(`.`)를 붙이지 않음
3. **명령형**으로 작성
   - ✅ "사용자 인증 기능 추가"
   - ❌ "사용자 인증 기능을 추가했습니다"
4. 핵심 내용을 명확하게 표현
5. **한글**로 작성

### PR 제목 예시

```
[Feature] 종단간 암호화(E2EE) 개선 및 방 초대 기능 추가
[Fix] Socket.io 연결 시 타입 오류 수정
[Refactor] 대시보드 컴포넌트 분리 및 구조 개선
[Docs] README에 E2EE 아키텍처 설명 추가
[Chore] 의존성 패키지 업데이트
```

## PR 본문 작성

PR을 생성하면 자동으로 템플릿이 표시됩니다. 템플릿의 각 섹션을 채워주세요.

### 필수 섹션

1. **PR 타입**: 해당하는 타입 체크박스 선택
2. **변경사항 요약**: 무엇을 변경했는지 간단히 설명
3. **테스트**: 테스트 완료 여부 체크
4. **체크리스트**: PR 제출 전 확인 사항

### 선택 섹션

- **관련 이슈**: 관련된 이슈가 있다면 링크
- **스크린샷/데모**: UI 변경사항이 있다면 첨부
- **추가 정보**: 리뷰어가 알아야 할 추가 정보

## 자동 검증

PR을 생성하거나 수정하면 GitHub Actions가 자동으로 PR 제목 형식을 검증합니다.

### 검증 프로세스

1. PR 제목이 `[타입] 제목` 형식인지 확인
2. 타입이 허용된 목록에 있는지 확인
3. 형식이 맞지 않으면 PR에 경고 코멘트 추가
4. 형식이 올바르면 이전 경고 코멘트 삭제

### 검증 실패 시

PR 제목 형식이 맞지 않으면 다음과 같은 코멘트가 자동으로 추가됩니다:

> ⚠️ **PR 제목 형식 오류**
>
> 현재 PR 제목: `잘못된 제목`
>
> PR 제목이 올바른 형식을 따르지 않습니다. 다음 형식으로 수정해주세요:
>
> `[타입] 제목`

PR 제목을 수정하면 자동으로 재검증됩니다.

## 커밋 메시지와의 관계

PR 제목은 커밋 메시지 컨벤션과 유사하지만, 다음과 같은 차이가 있습니다:

| 구분      | 커밋 메시지      | PR 제목          |
| --------- | ---------------- | ---------------- |
| 형식      | `타입: 제목`     | `[타입] 제목`    |
| 타입 표기 | 소문자 (feature) | 대문자 (Feature) |
| 본문      | 상세 변경사항    | 템플릿 기반      |
| 자동 검증 | 없음             | GitHub Actions   |

## 모범 사례

### 좋은 PR 제목 예시

```
✅ [Feature] 사용자 프로필 편집 기능 추가
✅ [Fix] 채팅방 입장 시 암호화 키 오류 수정
✅ [Refactor] API 라우트 핸들러 구조 개선
✅ [Docs] 설치 가이드 업데이트
```

### 나쁜 PR 제목 예시

```
❌ 기능 추가 (타입 누락)
❌ [feature] 사용자 프로필 편집 (타입 소문자)
❌ Feature: 사용자 프로필 편집 (대괄호 누락)
❌ [Feature] 프로필 편집 기능을 추가했습니다. (명령형 아님, 마침표 사용)
```

### 좋은 PR 본문 예시

```markdown
## PR 타입

- [x] Feature: 새로운 기능 추가

## 변경사항 요약

### 주요 변경사항

- 사용자 프로필 편집 페이지 추가
- 프로필 이미지 업로드 기능 구현
- 닉네임 중복 검사 API 추가

### 변경 이유

사용자가 자신의 프로필 정보를 수정할 수 있는 기능이 필요했습니다.

## 테스트

- [x] 로컬에서 테스트 완료
- [x] 빌드 오류 없음
- [x] 기존 기능에 영향 없음
- [x] 새로운 기능이 정상 작동함

### 테스트 방법

1. 프로필 페이지 접속
2. 닉네임 및 이미지 변경
3. 저장 버튼 클릭
4. 변경사항 반영 확인

## 스크린샷

![프로필 편집 화면](screenshot.png)
```

## 팁

- PR은 가능한 한 **작고 집중적**으로 유지
- 하나의 PR에는 **하나의 목적**만 포함
- 리뷰어가 이해하기 쉽게 작성
- 스크린샷이나 GIF를 활용하여 시각적으로 설명
- 관련 이슈나 문서를 링크하여 컨텍스트 제공
